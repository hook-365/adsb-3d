# ADS-B 3D Viewer - Deployment Example
#
# Option 1: Live-Only Mode (Simple)
#   - Use only the adsb-3d service below
#   - Set ENABLE_HISTORICAL=false
#
# Option 2: Full Historical Stack
#   - Uncomment track-service and timescaledb-adsb
#   - Set ENABLE_HISTORICAL=true
#   - Uncomment volumes section
#   - Change DB_PASSWORD to a secure password

services:
  adsb-3d:
    image: ghcr.io/hook-365/adsb-3d:latest
    container_name: adsb-3d
    restart: unless-stopped
    environment:
      - LATITUDE=45.0000
      - LONGITUDE=-90.0000
      - ALTITUDE=1000
      - LOCATION_NAME=My Station
      - FEEDER_URL=http://ultrafeeder
      - ENABLE_HISTORICAL=false       # Set to true for historical mode
    ports:
      - "8086:80"
    # Uncomment for full stack:
    # depends_on:
    #   - track-service

  # Uncomment for historical mode:
  # track-service:
  #   image: ghcr.io/hook-365/adsb-track-service:latest
  #   container_name: track-service
  #   restart: unless-stopped
  #   environment:
  #     - FEEDER_URL=http://ultrafeeder
  #     - DB_HOST=timescaledb-adsb
  #     - DB_PORT=5432
  #     - DB_NAME=adsb_tracks
  #     - DB_USER=adsb
  #     - DB_PASSWORD=your_secure_password_here
  #     - COLLECTION_INTERVAL=5
  #   ports:
  #     - "8087:8000"
  #   depends_on:
  #     - timescaledb-adsb

  # timescaledb-adsb:
  #   image: timescale/timescaledb:latest-pg16
  #   container_name: timescaledb-adsb
  #   restart: unless-stopped
  #   environment:
  #     - POSTGRES_DB=adsb_tracks
  #     - POSTGRES_USER=adsb
  #     - POSTGRES_PASSWORD=your_secure_password_here
  #   volumes:
  #     - timescaledb-data:/var/lib/postgresql/data
  #   ports:
  #     - "5433:5432"

# Uncomment for historical mode:
# volumes:
#   timescaledb-data:
